嗯,大家好,经常有在那个论坛上有人问,有的docker.io无法访问
然后拉取不了镜像,就是说是正确的拉取镜像的姿势是什么
其实里面有推荐说是用那个国内镜像的
但国内镜像的话就是说不好说,
说不定哪天就不能用了,
或者说你自己去搭一个那个中转,
其实也不是那么稳定,
最好说还是说自己在那个服务器上装一个sing-box之类的代理,
这样的话拉取镜像比较方便,
这里推荐的话说是用这个sing-box 1.11.11版本的,
然后服务器用这个Ubuntu 22.04,
就带有nft的那个Linux发行版,
然后这里sing-box根据你服务器的架构,
然后选择一个下载包,然后解压,
然后sing-box的配置文件里面要开启那个tun模式,
注意的话就是auto_route,
这里表示是那个默认路由到那个tun,
就是说正符合我们那个场景,
就是Docker pull的时候的话,就会走这个tun,
然后很重要的是一个这个auto_redirect,也需要打开,
它的话就是说,与那个Docker的网桥有可能会有冲突,
然后打开这个auto_redirect以后就不会冲突了,
这样的话就是说,当你那个打开sing-box,
然后又那个pull Docker镜像的时候,
如果说你不把这个东西打开,你Docker对外提供的那个服务,别人就访问不了,
那你到时候就只能说是那个,你pull完镜像以后,再把这个sing-box关了,
但是这样的话,你的服务就不是中断了嘛,
这样,所以说的话就是需要把这个auto_redirect打开,
嗯,具体的呢,可以看这个表现的话可以看这个issue,
这个GitHub上面有一个issue,就是说,说这个事情了,
嗯,然后其实你那个,用那个auto_redirect为true的时候,
其实可以用那个sudo nft list ruleset看一看,
其实会发现多一个,可以看到那个sing-box这里,多一条规则,OK,嗯,
嗯,最后注意的话,就是说,
这个解决与Docker网桥冲突的版本是那个1.11.8才那个才有的,
因此说是,而且说是需要nft,
所以说我刚才说的是要用那个Ubuntu 22.04的服务器,或者是那个比较新的那种发行版,
OK,今天就这个样子啊,谢谢大家观看。
