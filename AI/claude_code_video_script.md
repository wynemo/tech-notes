# Claude Code 集成 New API 视频脚本

## 视频信息
- **标题**: Claude Code + New API：打造属于自己的AI编程环境
- **时长**: 12分钟
- **目标观众**: 开发者、技术爱好者、需要AI编程助手的用户

## 视频结构

### 开头部分 (0-2分钟)

#### 0:00-0:30 快速回顾
- 简单回顾上期New API部署内容
- 展示New API的强大功能

#### 0:30-1:00 本期重点介绍
- 介绍Claude Code的价值和优势
- 说明为什么要集成到New API
- 预告本期内容要点

#### 1:00-2:00 效果演示
- 先展示最终配置效果
- 演示Claude Code通过New API工作的流畅体验
- 激发观众学习兴趣

### 主体内容 (2-8分钟)

#### 2:00-4:00 New API模型配置

**操作演示：**
- 登录New API管理后台
- 进入"渠道管理"界面
- 点击"添加渠道"按钮

**配置步骤：**
1. **基础模型配置**
   - 添加 `claude-haiku-4-5-20251001` 作为默认模型
   - 解释为什么选择这个模型（稳定、快速、成本合理）

2. **高级模型配置**
   - 添加 `claude-sonnet-4-5-20250929`
   - 添加 `claude-opus-4-5-20251101`
   - 说明不同模型的适用场景

3. **其他厂商模型支持**
   - 提及支持deepseek-v3.2
   - 提及支持glm-4.6
   - 提及支持gpt-5.1-codex

**屏幕录制要点：**
- 高亮重要配置项
- 标注关键参数说明
- 展示配置成功的界面

#### 4:00-6:00 命令行配置

**分屏演示布局：**
- 左侧：终端实际操作
- 右侧：配置说明文档

**详细步骤：**

1. **环境变量配置**
   ```bash
   # 设置 New API 的地址
   export ANTHROPIC_BASE_URL="http://服务器IP:3000"

   # 设置 New API 的令牌
   export ANTHROPIC_AUTH_TOKEN="sk-xxxxxx"
   ```

2. **配置验证**
   - 演示如何获取令牌
   - 测试连接是否成功
   - 展示Claude Code响应

3. **常见问题解决**
   - 连接失败的处理方法
   - 令牌权限问题
   - 网络连接问题

**演示要点：**
- 逐行解释命令含义
- 展示配置前后的对比
- 强调安全注意事项

#### 6:00-8:00 VSCode插件配置

**配置文件操作：**
1. 找到配置文件位置 `~/.claude/settings.json`
2. 编辑配置文件内容：

```json
{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "sk-xxxx",
    "ANTHROPIC_BASE_URL": "http://127.0.0.1:3456"
  },
  "model": "volcengine,deepseek-v3-1-terminus"
}
```

**参数详解：**
- `ANTHROPIC_AUTH_TOKEN`: 认证令牌
- `ANTHROPIC_BASE_URL`: API服务地址
- `model`: 指定使用的模型

**实际测试：**
- 在VSCode中启动Claude Code插件
- 测试基本编程功能
- 展示代码补全效果

### 实用技巧部分 (8-10分钟)

#### 8:00-9:00 故障排除

**常见问题及解决方案：**

1. **连接问题**
   - 检查网络连通性
   - 验证API地址正确性
   - 确认服务运行状态

2. **认证问题**
   - 令牌格式验证
   - 权限配置检查
   - 令牌有效期确认

3. **模型问题**
   - 模型名称格式
   - 模型可用性检查
   - 回退策略设置

#### 9:00-10:00 性能优化

**模型选择建议：**
- **日常开发**: Claude Haiku (快速响应)
- **复杂任务**: Claude Sonnet (平衡性能)
- **高要求场景**: Claude Opus (最强能力)

**成本控制策略：**
- 不同模型的计费差异
- 使用量监控方法
- 预算控制技巧

### 总结部分 (10-12分钟)

#### 10:00-11:00 功能对比

**直接使用Claude vs New API：**

| 方面 | 直接使用Claude | 通过New API |
|------|---------------|-------------|
| 成本 | 按官方定价 | 可自定义渠道 |
| 稳定性 | 依赖官方服务 | 多渠道容错 |
| 模型选择 | 官方模型 | 多厂商聚合 |
| 管理 | 简单但有限 | 功能丰富 |

#### 11:00-11:30 适用场景

**推荐使用情况：**
- 需要多厂商模型支持
- 要求高可用性和容错
- 需要统一管理和监控
- 有成本控制需求

**不推荐情况：**
- 简单个人使用
- 对稳定性要求极高
- 不想维护额外服务

#### 11:30-12:00 下期预告

**相关技术内容：**
- 其他AI编程工具对比
- 更多New API高级功能
- 开发环境完整配置
- 最佳实践分享

## 制作建议

### 视觉呈现要点

1. **屏幕录制设置**
   - 分辨率：1920x1080或更高
   - 字体大小：确保清晰可读
   - 鼠标指针：使用醒目样式

2. **重点标注方法**
   - 用红色圆圈标注重要操作
   - 用箭头指示操作流程
   - 关键信息用文字覆盖说明

3. **命令展示技巧**
   - 重要命令单独放大显示
   - 使用等宽字体保持格式
   - 逐行显示复杂命令

4. **进度指示**
   - 显示当前步骤在整体中的位置
   - 使用时间轴或进度条
   - 标注关键节点

### 内容组织策略

1. **循序渐进原则**
   - 从简单到复杂
   - 从基础到高级
   - 从配置到应用

2. **实用导向**
   - 每个步骤说明实际价值
   - 提供具体使用场景
   - 展示预期效果

3. **问题预判**
   - 提前解决常见问题
   - 提供故障排除方法
   - 给出备选方案

4. **参考资料**
   - 提供官方文档链接
   - 推荐相关工具
   - 给出进一步学习资源

### 互动元素设计

1. **实时演示**
   - 配置前后的效果对比
   - 不同模型的性能对比
   - 实际编程场景应用

2. **问答环节**
   - 回答评论区常见问题
   - 解决实际使用中的困惑
   - 分享个人使用经验

3. **投票互动**
   - 让观众选择想了解的功能
   - 调查观众的使用习惯
   - 收集反馈改进内容

## 技术要点总结

### 关键配置
1. **New API模型配置**
   - 基础模型：claude-haiku-4-5-20251001
   - 高级模型：claude-sonnet-4-5-20250929
   - 其他模型：deepseek-v3.2, glm-4.6

2. **环境变量设置**
   ```bash
   export ANTHROPIC_BASE_URL="http://服务器IP:3000"
   export ANTHROPIC_AUTH_TOKEN="sk-xxxxxx"
   ```

3. **VSCode配置**
   ```json
   {
     "env": {
       "ANTHROPIC_AUTH_TOKEN": "sk-xxxx",
       "ANTHROPIC_BASE_URL": "http://127.0.0.1:3456"
     },
     "model": "volcengine,deepseek-v3-1-terminus"
   }
   ```

### 注意事项
- 确保New API服务正常运行
- 令牌权限配置正确
- 网络连接稳定
- 定期检查服务状态

这个视频脚本结合了技术实操和用户体验，既保证了内容的完整性，又提高了视频的实用价值。